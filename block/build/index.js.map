{"version":3,"sources":["webpack:///webpack/bootstrap","webpack:///./node_modules/@babel/runtime/helpers/arrayLikeToArray.js","webpack:///./node_modules/@babel/runtime/helpers/arrayWithHoles.js","webpack:///./node_modules/@babel/runtime/helpers/iterableToArrayLimit.js","webpack:///./node_modules/@babel/runtime/helpers/nonIterableRest.js","webpack:///./node_modules/@babel/runtime/helpers/slicedToArray.js","webpack:///./node_modules/@babel/runtime/helpers/unsupportedIterableToArray.js","webpack:///./src/albert_pixel.scss","webpack:///./src/index.js","webpack:///external [\"wp\",\"blockEditor\"]","webpack:///external [\"wp\",\"components\"]","webpack:///external [\"wp\",\"compose\"]","webpack:///external [\"wp\",\"data\"]","webpack:///external [\"wp\",\"dom\"]","webpack:///external [\"wp\",\"element\"]","webpack:///external [\"wp\",\"primitives\"]","webpack:///external [\"wp\",\"richText\"]"],"names":["anchorRange","state","AlbertPixelButton","withState","hrefUrl","isActive","value","onChange","setState","setAttributes","useState","showPopover","setShowPopover","setHrefUrl","isFbPixel","getActiveFormat","selection","window","getSelection","rangeCount","getRangeAt","Object","keys","attributes","length","href","unregisteredAttributes","getRectangleFromRange","applyFormat","type","target","toggleFormat","AlbertPixelButtonDisplay","compose","withSelect","select","selectedBlock","getSelectedBlock","ifCondition","props","name","registerFormatType","title","tagName","className","active","edit"],"mappings":"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","file":"index.js","sourcesContent":[" \t// The module cache\n \tvar installedModules = {};\n\n \t// The require function\n \tfunction __webpack_require__(moduleId) {\n\n \t\t// Check if module is in cache\n \t\tif(installedModules[moduleId]) {\n \t\t\treturn installedModules[moduleId].exports;\n \t\t}\n \t\t// Create a new module (and put it into the cache)\n \t\tvar module = installedModules[moduleId] = {\n \t\t\ti: moduleId,\n \t\t\tl: false,\n \t\t\texports: {}\n \t\t};\n\n \t\t// Execute the module function\n \t\tmodules[moduleId].call(module.exports, module, module.exports, __webpack_require__);\n\n \t\t// Flag the module as loaded\n \t\tmodule.l = true;\n\n \t\t// Return the exports of the module\n \t\treturn module.exports;\n \t}\n\n\n \t// expose the modules object (__webpack_modules__)\n \t__webpack_require__.m = modules;\n\n \t// expose the module cache\n \t__webpack_require__.c = installedModules;\n\n \t// define getter function for harmony exports\n \t__webpack_require__.d = function(exports, name, getter) {\n \t\tif(!__webpack_require__.o(exports, name)) {\n \t\t\tObject.defineProperty(exports, name, { enumerable: true, get: getter });\n \t\t}\n \t};\n\n \t// define __esModule on exports\n \t__webpack_require__.r = function(exports) {\n \t\tif(typeof Symbol !== 'undefined' && Symbol.toStringTag) {\n \t\t\tObject.defineProperty(exports, Symbol.toStringTag, { value: 'Module' });\n \t\t}\n \t\tObject.defineProperty(exports, '__esModule', { value: true });\n \t};\n\n \t// create a fake namespace object\n \t// mode & 1: value is a module id, require it\n \t// mode & 2: merge all properties of value into the ns\n \t// mode & 4: return value when already ns object\n \t// mode & 8|1: behave like require\n \t__webpack_require__.t = function(value, mode) {\n \t\tif(mode & 1) value = __webpack_require__(value);\n \t\tif(mode & 8) return value;\n \t\tif((mode & 4) && typeof value === 'object' && value && value.__esModule) return value;\n \t\tvar ns = Object.create(null);\n \t\t__webpack_require__.r(ns);\n \t\tObject.defineProperty(ns, 'default', { enumerable: true, value: value });\n \t\tif(mode & 2 && typeof value != 'string') for(var key in value) __webpack_require__.d(ns, key, function(key) { return value[key]; }.bind(null, key));\n \t\treturn ns;\n \t};\n\n \t// getDefaultExport function for compatibility with non-harmony modules\n \t__webpack_require__.n = function(module) {\n \t\tvar getter = module && module.__esModule ?\n \t\t\tfunction getDefault() { return module['default']; } :\n \t\t\tfunction getModuleExports() { return module; };\n \t\t__webpack_require__.d(getter, 'a', getter);\n \t\treturn getter;\n \t};\n\n \t// Object.prototype.hasOwnProperty.call\n \t__webpack_require__.o = function(object, property) { return Object.prototype.hasOwnProperty.call(object, property); };\n\n \t// __webpack_public_path__\n \t__webpack_require__.p = \"\";\n\n\n \t// Load entry module and return exports\n \treturn __webpack_require__(__webpack_require__.s = \"./src/index.js\");\n","function _arrayLikeToArray(arr, len) {\n  if (len == null || len > arr.length) len = arr.length;\n\n  for (var i = 0, arr2 = new Array(len); i < len; i++) {\n    arr2[i] = arr[i];\n  }\n\n  return arr2;\n}\n\nmodule.exports = _arrayLikeToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _arrayWithHoles(arr) {\n  if (Array.isArray(arr)) return arr;\n}\n\nmodule.exports = _arrayWithHoles;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _iterableToArrayLimit(arr, i) {\n  var _i = arr && (typeof Symbol !== \"undefined\" && arr[Symbol.iterator] || arr[\"@@iterator\"]);\n\n  if (_i == null) return;\n  var _arr = [];\n  var _n = true;\n  var _d = false;\n\n  var _s, _e;\n\n  try {\n    for (_i = _i.call(arr); !(_n = (_s = _i.next()).done); _n = true) {\n      _arr.push(_s.value);\n\n      if (i && _arr.length === i) break;\n    }\n  } catch (err) {\n    _d = true;\n    _e = err;\n  } finally {\n    try {\n      if (!_n && _i[\"return\"] != null) _i[\"return\"]();\n    } finally {\n      if (_d) throw _e;\n    }\n  }\n\n  return _arr;\n}\n\nmodule.exports = _iterableToArrayLimit;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","function _nonIterableRest() {\n  throw new TypeError(\"Invalid attempt to destructure non-iterable instance.\\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.\");\n}\n\nmodule.exports = _nonIterableRest;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayWithHoles = require(\"./arrayWithHoles.js\");\n\nvar iterableToArrayLimit = require(\"./iterableToArrayLimit.js\");\n\nvar unsupportedIterableToArray = require(\"./unsupportedIterableToArray.js\");\n\nvar nonIterableRest = require(\"./nonIterableRest.js\");\n\nfunction _slicedToArray(arr, i) {\n  return arrayWithHoles(arr) || iterableToArrayLimit(arr, i) || unsupportedIterableToArray(arr, i) || nonIterableRest();\n}\n\nmodule.exports = _slicedToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","var arrayLikeToArray = require(\"./arrayLikeToArray.js\");\n\nfunction _unsupportedIterableToArray(o, minLen) {\n  if (!o) return;\n  if (typeof o === \"string\") return arrayLikeToArray(o, minLen);\n  var n = Object.prototype.toString.call(o).slice(8, -1);\n  if (n === \"Object\" && o.constructor) n = o.constructor.name;\n  if (n === \"Map\" || n === \"Set\") return Array.from(o);\n  if (n === \"Arguments\" || /^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n)) return arrayLikeToArray(o, minLen);\n}\n\nmodule.exports = _unsupportedIterableToArray;\nmodule.exports[\"default\"] = module.exports, module.exports.__esModule = true;","// extracted by mini-css-extract-plugin","import {registerFormatType, applyFormat, getActiveFormat, removeFormat, toggleFormat} from '@wordpress/rich-text';\nimport {RichTextToolbarButton, URLInput} from '@wordpress/block-editor'\nimport {BaseControl, Button, Flex, FlexItem, Popover, TextControl} from \"@wordpress/components\";\nimport { SVG, Path, Rect, G } from \"@wordpress/primitives\";\nimport {fbPixelPopover} from \"./albert_pixel.scss\";\nimport {compose, ifCondition, withState} from \"@wordpress/compose\";\nimport { withSelect, useSelect } from \"@wordpress/data\";\nimport {getRectangleFromRange} from \"@wordpress/dom\";\nimport {useState} from \"@wordpress/element\";\n\n\n\nlet anchorRange;\nlet state = false;\n\n\nconst AlbertPixelButton = withState({\n  hrefUrl: ''\n}) (({isActive, value, onChange, setState, setAttributes}) => {\n  const [ showPopover, setShowPopover ] = useState( false );\n  const [ hrefUrl, setHrefUrl ] = useState( '' );\n  return (\n    <>\n      <RichTextToolbarButton\n        icon='edit'\n        title={\"Lead URL\"}\n        isActive={isActive}\n        shortcutType={\"primary\"}\n        onClick={() => setState((state) => {\n          const isFbPixel = getActiveFormat( value, 'vicky/albert-pixel' );\n          const selection = window.getSelection();\n          anchorRange =\n            selection.rangeCount > 0 ? selection.getRangeAt( 0 ) : null;\n          if (typeof isFbPixel !== 'undefined' && showPopover == false) {\n            if (Object.keys(isFbPixel.attributes).length > 0) {\n              state.hrefUrl = isFbPixel.attributes.href;\n              setHrefUrl(isFbPixel.attributes.href);\n            } else if (typeof isFbPixel.unregisteredAttributes != \"undefined\" && Object.keys(isFbPixel.unregisteredAttributes).length > 0 && showPopover == false){\n              setHrefUrl(isFbPixel.unregisteredAttributes.href);\n            }\n          }\n          setShowPopover(true);\n        })}\n      />\n      {showPopover && (\n        <Popover position={\"bottom center\"} className={\"fb-pixel-popover\"} focusOnMount={\"container\"}\n                 onClose={() => {\n                   setHrefUrl('');\n                   setShowPopover(false);\n                 }} onFocusOutside={() => {\n          setHrefUrl('');\n          setShowPopover(false);\n        }}\n                 getAnchorRect={() => {\n                   return getRectangleFromRange(anchorRange);\n                 }}\n        >\n          <Flex className={\"fb-pixel-flex-wrap\"}>\n            <FlexItem>\n              <BaseControl help={\"Enter website URL\"}>\n                <TextControl label={\"URL\"} type={\"url\"} value={hrefUrl} onChange={(value) => {\n                  setHrefUrl(value)\n                }}/>\n              </BaseControl>\n            </FlexItem>\n            <FlexItem>\n              <Button isPrimary={true} onClick={() => {\n                if(hrefUrl.length > 0) {\n                  onChange( applyFormat(value, {\n                    type: 'vicky/albert-pixel',\n                    attributes: {\n                      href: hrefUrl,\n                      target: \"_blank\"\n                    }\n                  }) );\n                } else {\n                  onChange( toggleFormat(value, {\n                    type: 'vicky/albert-pixel',\n                  }) );\n                }\n                setHrefUrl('');\n                setShowPopover(false);\n\n              }}>Save</Button>\n              <Button isSecondary={true} className=\"unlink-btn\" onClick={() => {\n\n                onChange( toggleFormat(value, {\n                  type: 'vicky/albert-pixel',\n                }) );\n                setHrefUrl('');\n                setShowPopover(false);\n              }}>\n                Unlink\n              </Button>\n            </FlexItem>\n          </Flex>\n        </Popover>\n      )}\n    </>\n  );\n});\n\nconst AlbertPixelButtonDisplay = compose(\n  withSelect( function ( select ) {\n    return {\n      selectedBlock: select( 'core/block-editor' ).getSelectedBlock(),\n    };\n  } ),\n  ifCondition( function ( props ) {\n    return (\n      props.selectedBlock && (props.selectedBlock.name === 'core/paragraph' || props.selectedBlock.name === 'core/list')\n    );\n  })\n)(AlbertPixelButton);\n\n\n\nregisterFormatType('vicky/albert-pixel', {\n  title: ' Lead URL',\n  tagName: 'a',\n  className: 'albert-lead',\n  active: false,\n  attributes: {\n    href: \"\",\n    target: \"\"\n  },\n  edit: AlbertPixelButtonDisplay,\n})\n","(function() { module.exports = window[\"wp\"][\"blockEditor\"]; }());","(function() { module.exports = window[\"wp\"][\"components\"]; }());","(function() { module.exports = window[\"wp\"][\"compose\"]; }());","(function() { module.exports = window[\"wp\"][\"data\"]; }());","(function() { module.exports = window[\"wp\"][\"dom\"]; }());","(function() { module.exports = window[\"wp\"][\"element\"]; }());","(function() { module.exports = window[\"wp\"][\"primitives\"]; }());","(function() { module.exports = window[\"wp\"][\"richText\"]; }());"],"sourceRoot":""}